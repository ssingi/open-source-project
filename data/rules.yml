# intent로 의도 분류 후 action으로 응답
# intent: greet, goodbye, bot_introduction, plan_city, fallback
version: "3.1"

rules:

# 1. 인사 처리
- rule: 인사에 응답
  steps:
    - intent: greet
    - action: utter_greet

# 2. 종료 처리
- rule: 종료 인사
  steps:
    - intent: goodbye
    - action: utter_goodbye

# 3. 특정 도시 여행 계획 안내 (도쿄 -> 도쿄, 오사카 -> 오사카, 교토 -> 교토)
- rule: 사용자 요청에 따라 여행지 추천
  steps:
    - intent: plan_city
    - slot_was_set:
        - city: filled
    - action: action_recommend_city

# 4. Lookup에 없는 도시 처리
- rule: Lookup에 없는 도시 처리
  steps:
    - intent: plan_city
    - slot_was_set:
        - city: null
    - action: action_gemini_fallback

# 5. fallback 처리 (Gemini로 넘김)
- rule: Gemini로 Fallback
  steps:
    - intent: fallback
    - action: action_gemini_fallback
